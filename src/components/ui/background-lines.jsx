import React from "react";
import { motion } from "framer-motion";

export function BackgroundLines({ children, className = "" }) {
  const pathVariants = {
    initial: { strokeDashoffset: 800, strokeDasharray: "50 800" },
    animate: {
      strokeDashoffset: 0,
      strokeDasharray: "20 800",
      opacity: [0, 1, 1, 0],
    },
  };

  const glowVariants = {
    initial: { opacity: 0, scale: 0.8 },
    animate: {
      opacity: [0.3, 0.6, 0.3],
      scale: [0.8, 1.2, 0.8],
    },
  };

  const paths = [
    "M720 200C720 200 742.459 190.315 755.249 175.626C768.039 160.937 778.88 168.741 789.478 151.499C800.076 134.258 817.06 139.269 826.741 130.436C836.423 121.603 851.957 114.826 863.182 106.242C874.408 97.657 877.993 92.678 898.867 83.214C919.741 73.75 923.618 69.88 934.875 60.177C946.133 50.474 960.784 50.837 970.584 37.701C980.384 24.564 993.538 23.334 1004.85 13.087C1016.15 2.84 1026.42 0.801 1038.22 -7.9C1050.02 -16.601 1065.19 -19.582 1074.63 -34.279C1084.07 -48.976 1085.49 -40.872 1112.65 -55.116C1139.8 -69.36 1132.49 -71.795 1146.43 -79.364C1160.37 -86.934 1168.97 -91.387 1181.46 -102.018C1193.95 -112.65 1191.16 -118.618 1217.55 -124.355C1243.93 -130.093 1234.19 -131.101 1254.53 -149.154C1274.86 -167.208 1275.12 -157.109 1290.37 -173.91C1305.62 -190.711 1313.91 -187.813 1323.19 -193.246C1332.48 -198.68 1347.93 -207.192 1361.95 -217.853C1375.96 -228.515 1374.06 -224.832 1397.08 -239.814C1420.09 -254.795 1421.41 -253.17 1431.52 -265.008",
    "M720 200C720 200 741.044 185.759 753.062 160.636C765.079 135.514 770.541 136.148 782.73 120.489C794.918 104.83 799.378 103.188 811.338 82.597C823.298 62.005 825.578 56.419 843.707 45.493C861.837 34.568 856.194 23.248 877.376 6.48C898.558 -10.287 887.536 -22.157 909.648 -35.042C931.759 -47.927 925.133 -61.908 941.063 -72.379C956.994 -82.849 952.171 -95.337 971.197 -114.959C990.222 -134.582 990.785 -140.625 999.488 -153.871C1008.19 -167.117 1011.4 -167.782 1032.65 -188.114C1053.9 -208.446 1045.74 -201.972 1064.01 -230.42C1082.29 -258.868 1077.21 -253.894 1093.7 -269.66C1110.18 -285.426 1105.91 -296.115 1127.68 -310.283C1149.46 -324.452 1144.37 -322.102 1154.18 -347.68C1163.99 -373.258 1165.6 -361.332 1186.21 -385.809C1206.81 -410.285 1203.29 -410.861 1220.31 -427.633C1237.33 -444.406 1236.97 -454.408 1250.42 -464.196",
    "M720 200C720 200 712.336 187.768 690.248 157.156C668.161 126.544 672.543 144.253 665.951 115.784C659.358 87.316 647.903 97.461 636.929 73.197C625.956 48.933 626.831 53.639 609.939 31.01C593.048 8.381 598.7 5.282 582.342 -7.496C565.985 -20.274 566.053 -32.34 559.169 -52.884C552.284 -73.428 549.348 -78.154 529.347 -93.471C509.345 -108.789 522.053 -115.946 505.192 -134.347C488.33 -152.747 482.671 -167.437 473.599 -179.217C464.527 -190.996 464.784 -199.783 447 -217.928C429.215 -236.073 436.29 -249.142 423.534 -262.687C410.777 -276.232 407.424 -294.081 394.364 -306.492C381.303 -318.902 373.709 -322.68 365.591 -346.199C357.473 -369.718 358.364 -361.509 338.222 -386.495C318.08 -411.481 322.797 -399.499 315.32 -431.761C307.843 -464.023 294.563 -452.561 285.795 -473.25C277.026 -493.94 275.199 -494.055 258.602 -513.871",
    "M720 200C720 200 738.983 198.651 790.209 196.852C841.436 195.052 816.31 191.421 861.866 187.296C907.422 183.172 886.273 187.037 930.656 186.651C975.04 186.264 951.399 182.343 1001.57 175.74C1051.73 169.138 1020.72 175.208 1072.85 174.127C1124.97 173.047 1114.39 170.097 1140.02 164.426C1165.65 158.754 1173.1 162.143 1214.55 161.063C1256.01 159.983 1242.78 156.182 1285.56 151.536C1328.35 146.889 1304.66 150.796 1354.41 149.573C1404.16 148.35 1381.34 144.315 1428.34 139.376C1475.35 134.438 1445.96 136.509 1497.93 135.313C1549.9 134.117 1534.63 132.499 1567.23 131.48",
    "M720 200C720 200 696.366 208.841 682.407 222.967C668.448 237.093 673.23 237.471 647.919 242.882C622.608 248.293 636.85 249.899 609.016 262.944C581.182 275.989 596.778 278.494 571.937 283.778C547.095 289.062 551.762 298.656 536.862 306.816C521.962 314.975 515.626 313.279 497.589 325.159C479.552 337.04 484.343 340.435 461.111 348.728C437.879 357.021 442.512 355.226 423.603 368.397C404.694 381.569 402.411 379.541 390.805 391.555C379.2 403.568 369.754 408.175 353.238 413.929C336.722 419.683 330.161 424.689 312.831 434.116C295.5 443.543 288.711 448.815 278.229 454.041C267.747 459.267 258.395 462.506 240.378 476.65C222.361 490.795 230.097 488.379 203.447 495.613C176.797 502.847 193.747 502.523 166.401 517.148C139.056 531.774 151.342 533.641 130.156 541.074C108.97 548.507 116.461 552.688 96.0974 558.817C75.7334 564.946 83.8553 569.505 59.4513 580.576C35.0473 591.648 48.2548 597.874 21.8337 603.886C-4.58739 609.898 10.5966 619.102 -16.396 624.524",
    "M720 200C720 200 695.644 232.465 682.699 256.197C669.755 279.929 671.059 271.996 643.673 306.974C616.286 341.951 625.698 340.8 606.938 365.255C588.178 389.71 592.715 392.351 569.76 415.92C546.805 439.49 557.014 437.498 538.136 472.318C519.258 507.137 520.671 510.818 503.256 524.428C485.841 538.038 491.288 540.063 463.484 581.358C435.681 622.653 437.554 617.001 425.147 635.248C412.74 653.495 411.451 661.175 389.505 684.331C367.559 707.486 375.779 716.276 352.213 740.918C328.647 765.56 341.908 758.07 316.804 797.24C291.699 836.42 301.938 810.92 276.644 850.23C251.349 889.54 259.792 888.78 243.151 903.64",
    "M719.974 200C719.974 200 765.293 209.346 789.305 226.402C813.318 243.459 825.526 237.104 865.093 245.586C904.659 254.068 908.361 260.231 943.918 273.51C979.475 286.789 963.13 285.277 1009.79 297.428C1056.45 309.579 1062.34 305.797 1089.82 318.96C1117.31 332.124 1133.96 332.816 1159.12 342.861C1184.28 352.906 1182.84 353.359 1233.48 364.514C1284.12 375.67 1254.63 382.207 1306.33 394.465C1358.04 406.723 1359.27 406.568 1378.67 420.21C1398.07 433.852 1406.16 426.466 1456.34 442.827C1506.51 459.188 1497.73 458.471 1527.54 465.212",
    "M720 200C720 200 727.941 180.821 734.406 129.251C740.87 77.681 742.857 109.402 757.864 59.798C772.871 10.194 761.947 21.093 772.992 -5.692C784.036 -32.476 777.105 -49.467 786.808 -74.301C796.511 -99.136 797.141 -105.667 808.694 -142.693C820.247 -179.718 812.404 -161.583 819.202 -212.898C826 -264.214 829.525 -250.991 839.341 -280.387C849.157 -309.784 844.404 -311.592 855.042 -348.752C865.68 -385.911 862.018 -394.559 876.924 -417.488C891.83 -440.418 886.075 -463.535 892.87 -487.945C899.664 -512.355 903.01 -505.031 909.701 -555.588C916.393 -606.144 917.232 -580.612 925.531 -624.777",
    "M720 200C720 200 722.468 249.363 726.104 270.449C729.739 291.535 730.644 300.025 738.836 339.07C747.028 378.115 743.766 389.319 746.146 409.812C748.526 430.306 754.006 443.598 757.006 482.469C760.007 521.34 760.322 515.244 763.893 555.195C767.465 595.146 769.92 572.227 773.398 618.469C776.875 664.71 776.207 651.365 778.233 690.19C780.259 729.015 782.53 740.477 787.977 760.39C793.424 780.3 791.788 810.01 797.243 832.24C802.698 854.47 801.758 880.29 808.181 899.64C814.604 918.99 813.135 921.5 818.026 975.28C822.918 1029.06 820.269 1017.92 822.905 1043.75",
    "M720 200C720 200 737.033 242.46 757.251 265.772C777.468 289.084 768.146 298.687 785.517 320.846C802.887 343.005 814.782 359.698 824.589 384.112C834.395 408.525 838.791 406.702 855.55 445.611C872.31 484.519 875.197 474.854 890.204 514.253C905.21 553.653 899.844 540.872 919.927 570.763C940.01 600.654 939.071 612.583 954.382 636.946C969.693 661.309 968.683 659.254 993.997 695.221C1019.31 731.187 1006.67 714.436 1023.49 757.61C1040.32 800.79 1046.15 788.25 1059.01 823.05C1071.88 857.86 1081.39 846.19 1089.45 881.96C1097.51 917.73 1106.52 912.12 1125.77 946.89",
    "M720 200C720 200 687.302 205.326 670.489 217.898C653.676 230.47 653.159 226.959 626.58 235.127C600.002 243.295 599.626 245.362 577.94 253.841C556.254 262.319 556.35 257.426 533.958 267.44C511.566 277.454 505.82 276.441 486.464 289.172C467.108 301.904 461.312 296.36 439.357 303.508C417.402 310.657 406.993 317.736 389.393 322.603C371.794 327.47 371.139 333.76 344.54 337.931C317.941 342.102 327.375 343.682 299.411 357.275C271.447 370.868 283.617 365.022 249.868 372.622C216.119 380.223 227.07 380.86 203.77 388.635C180.47 396.41 168.948 402.487 156.407 407.28C143.866 412.073 132.426 419.534 110.894 425.555C89.3615 431.575 90.3234 430.232 61.1669 439.897C32.0105 449.562 34.3696 452.021 15.9011 459.789C-2.56738 467.558 2.38861 469.841 -29.9494 479.462C-62.2873 489.083 -52.5552 488.225 -77.4307 494.286",
    "M720 200C720 200 743.97 215.061 754.884 240.648C765.798 266.235 781.032 251.34 791.376 275.115C801.72 298.889 808.417 288.333 829.306 314.807C850.195 341.281 852.336 332.531 865.086 351.843C877.835 371.155 874.512 371.773 902.383 393.857C930.255 415.94 921.885 405.976 938.025 431.74C954.164 457.505 959.384 459.719 977.273 470.525C995.162 481.33 994.233 481.096 1015.92 507.676C1037.61 534.257 1025.74 518.848 1047.82 545.343C1069.91 571.837 1065.95 565.45 1085.93 584.73C1105.91 604.009 1110.53 598.089 1124.97 619.759C1139.4 641.428 1140.57 631.585 1158.53 661.499C1176.5 691.414 1184.96 683.829 1194.53 698.792C1204.09 713.755 1221.35 723.711 1232.08 736.224C1242.8 748.738 1257.34 765.61 1269.99 776.53C1282.63 787.45 1293.81 790.91 1307.21 814.56",
    "M720 200C720 200 718.24 162.717 716.359 147.31C714.478 131.902 713.988 112.237 710.785 94.829C707.582 77.42 708.407 72.274 701.686 42.106C694.965 11.937 699.926 20.857 694.84 -9.235C689.753 -39.326 693.055 -32.924 689.674 -65.098C686.293 -97.272 686.041 -100.909 682.676 -116.343C679.311 -131.777 682.23 -143.995 681.826 -169.170C681.423 -194.346 677.891 -189.804 675.66 -219.977C673.429 -250.151 672.665 -257.948 668.592 -276.771C664.52 -295.594 664.724 -293.076 661.034 -328.778C657.343 -364.478 658.509 -353.181 653.867 -383.45C649.226 -413.719 650.748 -400.38 647.052 -432.682C643.357 -464.984 646.125 -464.921 645.216 -488.402C644.307 -511.883 640.872 -503.4 637.237 -541.706C633.602 -580.012 634.146 -559.868 630.717 -593.769C627.288 -627.669 628.008 -620.682 626.514 -644.844",
    "M720 200C720 200 730.384 231.55 739.215 257.557C748.047 283.564 751.618 287.619 766.222 312.033C780.825 336.447 774.187 332.307 787.606 368.195C801.025 404.082 793.116 403.536 809.138 428.315C825.16 453.095 815.485 467.073 829.898 485.518C844.311 503.964 845.351 523.196 852.197 536.599C859.042 550.001 862.876 555.65 872.809 595.974C882.742 636.297 885.179 624.677 894.963 653.246C904.747 681.816 911.787 674.243 921.827 711.809C931.867 749.374 927.557 748.784 940.377 763.59C953.197 778.4 948.555 805.77 966.147 820.54C983.739 835.31 975.539 855.69 988.65 875.69C1001.76 895.69 1001.82 891.59 1007.54 934.37C1013.27 977.15 1018.98 948.8 1029.67 991.58",
    "M720 200C720 200 684.591 197.135 657.288 189.014C629.985 180.894 618.318 185.733 600.698 181.723C583.077 177.714 566.975 175.639 537.839 173.315C508.704 170.991 501.987 168.958 476.29 163.658C450.592 158.359 460.205 160.268 416.97 158.927C373.736 157.586 396.443 151.379 359.262 146.612C322.081 141.844 327.081 143.286 300.224 141.917C273.368 140.547 264.902 135.49 241.279 132.114C217.655 128.739 205.497 128.95 181.98 127.253C158.464 125.556 150.084 119.938 117.474 116.078C84.8644 112.218 81.5401 111.501 58.8734 108.545C36.2067 105.59 33.6442 101.938 -3.92281 96.728C-41.4898 91.519 -18.6466 95.082 -61.4654 91.179C-104.284 87.275 -102.32 88.048 -121.821 82.369",
    "M720 200C720 200 714.384 178.193 708.622 160.693C702.86 143.193 705.531 147.066 703.397 122.66C701.264 98.254 697.8 95.181 691.079 80.466C684.357 65.751 686.929 62.356 683.352 42.664C679.776 22.973 679.079 23.949 674.646 5.07C670.213 -13.808 670.622 -5.629 665.271 -35.439C659.921 -65.249 659.864 -49.87 653.352 -77.623C646.841 -105.377 647.767 -98.046 644.123 -113.979C640.48 -129.912 638.183 -142.509 636.127 -153.182C634.072 -163.856 632.548 -172.413 626.743 -195.951C620.938 -219.489 622.818 -221.024 618.613 -233.423C614.407 -245.822 615.555 -263.153 608.752 -274.569C601.95 -285.986 603.375 -301.051 599.526 -310.149C595.678 -319.247 593.676 -329.362 587.865 -350.431C582.053 -371.5 584.628 -367.913 578.882 -389.408C573.137 -410.903 576.516 -411.693 571.966 -432.241C567.416 -452.789 567.42 -448.681 562.834 -468.28C558.248 -487.879 555.335 -490.47 552.072 -510.968C548.808 -531.466 547.605 -530.956 541.772 -546.427C535.94 -561.898 537.352 -565.211 535.128 -586.018C532.905 -606.826 531.15 -610.702 524.129 -627.124",
    "M720 200C720 200 711.433 180.82 707.745 159.428C704.056 138.035 704.937 131.711 697.503 120.916C690.069 110.121 691.274 109.999 685.371 84.109C679.469 58.22 677.496 73.883 671.24 44.303C664.984 14.724 667.608 34.849 662.065 8.116C656.522 -18.617 656.357 -20.976 647.442 -33.828C638.527 -46.681 640.134 -57.075 635.555 -71.273C630.976 -85.471 630.575 -99.821 624.994 -110.013C619.413 -120.206 615.849 -137.221 612.251 -146.926C608.654 -156.63 606.942 -164.327 603.041 -186.924C599.14 -209.521 595.242 -213.073 589.533 -226.103C583.823 -239.133 581.18 -252.124 576.96 -264.833C572.739 -277.543 572.696 -287.77 568.334 -301.344C563.972 -314.918 562.14 -317.212 556.992 -343.299C551.844 -369.386 550.685 -359.743 544.056 -379.801C537.428 -399.859 534.97 -401.977 531.034 -420.076C527.099 -438.175 522.979 -435.119 519.996 -457.061C517.012 -479.004 511.045 -474.126 507.478 -497.077C503.912 -520.029 501.417 -521.033 495.534 -537C489.651 -552.968 491.488 -550.977 484.68 -576.317C477.872 -601.657 476.704 -598.494 472.792 -613.258",
    "M720 200C720 200 723.524 216.673 728.513 247.319C733.503 277.964 731.894 269.823 740.001 292.706C748.108 315.589 744.225 310.598 748.996 338.365C753.766 366.131 756.585 352.096 761.881 386.194C767.178 420.293 768.155 399.089 771.853 429.845C775.551 460.6 775.965 453.738 781.753 474.555C787.54 495.372 787.248 508.418 791.422 523.79C795.596 539.162 798.173 557.631 804.056 569.914C809.938 582.197 806.864 593.07 811.518 615.275C816.171 637.48 816.551 642.1 822.737 662.643C828.922 683.185 830.255 692.089 833.153 706.603C836.052 721.117 839.475 719.242 846.83 753.98C854.185 788.71 850.193 778.86 854.119 798.67C858.045 818.48 857.963 824.39 863.202 844.94C868.44 865.49 867.891 858.03 874.497 888.67C881.102 919.31 880.502 920.72 887.307 936.56C894.111 952.4 890.388 959.75 896.507 981.25C902.627 1002.76 902.54 995.39 906.742 1029.23",
    "M720 200C720 200 698.654 186.893 669.785 174.902C640.916 162.91 634.741 160.601 615.568 152.586C596.396 144.571 594.829 145.346 568.66 128.206C542.492 111.067 547.454 109.714 514.087 98.978C480.721 88.242 479.79 84.731 467.646 79.846C455.502 74.96 448.63 62.156 416.039 53.755C383.448 45.354 391.682 43.73 365.021 30.975C338.36 18.219 328.715 17.114 309.809 2.575C290.903 -11.964 277.185 -3.016 259.529 -19.042C241.873 -35.069 240.502 -25.597 211.912 -43.759C183.323 -61.922 193.288 -59.11 157.03 -68.286C120.772 -77.462 127.621 -79.891 108.253 -95.286C88.8857 -110.681 75.4927 -111.026 56.9647 -117.686C38.4366 -124.346 33.8997 -131.296 4.77584 -143.3C-24.348 -155.304 -19.1326 -159.734 -46.165 -168.092C-73.197 -176.45 -52.5552 -177.225 -77.4307 -183.286",
    "M720 200C720 200 711.596 225.85 701.025 266.114C690.455 306.378 697.124 309.466 689.441 329.079C681.758 348.693 679.099 347.524 675.382 392.732C671.665 437.94 663.4 427.024 657.844 450.179C652.288 473.333 651.086 474.914 636.904 514.536C622.723 554.158 631.218 552.853 625.414 577.056C619.611 601.259 613.734 606.28 605.94 642.262C598.146 678.244 595.403 674.314 588.884 707.785C582.364 741.255 583.079 741.176 575.561 772.63C568.044 804.08 566.807 808.45 558.142 834.32C549.476 860.2 553.961 879.13 542.367 899.25C530.772 919.37 538.268 930.37 530.338 957.27C522.407 984.17 520.826 995.53 512.156 1024.2",
    "M720 200C720 200 730.571 174.312 761.424 161.44C792.277 148.569 772.385 143.283 804.069 127.232C835.752 111.182 829.975 111.373 848.987 92.782C867.999 74.192 877.583 80.096 890.892 53.897C904.201 27.698 910.277 32.253 937.396 14.293C964.514 -3.667 949.357 -3.166 978.7 -19.562C1008.04 -35.958 990.424 -32.048 1021.51 -56.147C1052.6 -80.247 1054.28 -65.275 1065.97 -91.925C1077.65 -118.575 1087.76 -110.932 1111.12 -129.655C1134.49 -148.378 1124.9 -145.142 1151.67 -163.684C1178.43 -182.226 1167.09 -183.732 1197.53 -202.739C1227.96 -221.746 1225.78 -226.781 1239.27 -237.035C1252.76 -247.289 1269.32 -259.479 1282.88 -278.559C1296.44 -297.638 1305.81 -291.385 1323.82 -312.703C1341.83 -334.02 1340.32 -332.379 1368.98 -348.933",
  ];

  const colors = [
    "#46A5CA",
    "#8C2F2F", 
    "#4FAE4D",
    "#D6590C",
    "#811010",
    "#247AFB",
    "#A534A0",
    "#A8A438",
    "#D6590C",
    "#46A29C",
    "#670F6D",
    "#D7C200",
    "#59BBEB",
    "#504F1C",
    "#55BC54",
    "#4D3568",
    "#9F39A5",
    "#363636",
    "#860909",
    "#6A286F",
    "#604483",
  ];

  // Add a secure random integer generator
  function secureRandomInt(max) {
    const array = new Uint32Array(1);
    window.crypto.getRandomValues(array);
    return array[0] % max;
  }

  return (
    <div
      className={`relative overflow-hidden pt-24 ${className}`}
      style={{
        display: "block",
        position: "relative",
        margin: 0,
        padding: 0,
        paddingTop: "6rem", // Add top padding to lower the section
      }}
    >
      {/* Animated background lines */}
      <div
        className="absolute inset-0 pointer-events-none"
        style={{
          zIndex: 0,
          width: "100%",
          height: "100%",
          position: "absolute",
          left: 0,
          top: 0,
        }}
      >
        <motion.svg
          viewBox="0 0 1440 900"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          transition={{ duration: 1 }}
          className="absolute inset-0 w-full h-full"
          style={{
            position: "absolute",
            width: "100%",
            height: "100%",
            left: 0,
            top: 0,
            pointerEvents: "none",
          }}
        >
          {/* Center glow effect */}
          <motion.circle
            cx="720"
            cy="200"
            r="60"
            fill="radial-gradient(circle, rgba(70, 165, 202, 0.4) 0%, rgba(147, 51, 234, 0.3) 50%, transparent 100%)"
            variants={glowVariants}
            initial="initial"
            animate="animate"
            transition={{
              duration: 3,
              ease: "easeInOut",
              repeat: Infinity,
              repeatType: "reverse",
            }}
          />
          
          {paths.map((path, idx) => (
            <motion.path
              d={path}
              stroke={colors[idx]}
              strokeWidth="4"
              strokeLinecap="round"
              variants={pathVariants}
              initial="initial"
              animate="animate"
              transition={{
                duration: 6,
                ease: "linear",
                repeat: Infinity,
                repeatType: "loop",
                delay: secureRandomInt(3),
                repeatDelay: Math.floor(Math.random() * 2 + 1),
              }}
              key={`path-first-${idx}`}
            />
          ))}
          {/* duplicate for more paths */}
          {paths.map((path, idx) => (
            <motion.path
              d={path}
              stroke={colors[idx]}
              strokeWidth="4"
              strokeLinecap="round"
              variants={pathVariants}
              initial="initial"
              animate="animate"
              transition={{
                duration: 6,
                ease: "linear",
                repeat: Infinity,
                repeatType: "loop",
                delay: Math.floor(Math.random() * 3 + 1),
                repeatDelay: Math.floor(Math.random() * 2 + 1),
              }}
              key={`path-second-${idx}`}
            />
          ))}
        </motion.svg>
      </div>

      {/* Children content */}
      <div className="relative">{children}</div>
    </div>
  );
}